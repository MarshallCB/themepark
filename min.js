!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Themepark={})}(this,(function(e){"use strict";let{defineProperties:t,keys:n,assign:o}=Object;e.themepark=function e(i={},r=(e=>e)){let f=function(t){return"undefined"!=typeof window?(o(i,t),s(),f):e(o(i,t),r)},u=r(i),c=new Set;function s(){u=r(i),c.forEach(e=>e(f.$))}let d=()=>{let e="";for(let t in u)e+=`--${t}:${u[t]};`;return e};return f.toString=d,t(f,n(i).concat(n(u)).reduce((e,t)=>o(e,{[t]:{get:()=>n(u).includes(t)?`var(--${t})`:i[t],set:e=>(n(i).includes(t)&&(i[t]=e,s()),!0)}}),{})),o(f,{$:new Proxy((function(e,t=!0){let n=typeof e,o=e=>e;if("function"===n)o=e;else{let t="string"===n?()=>document.querySelectorAll(e):()=>[e];o=()=>t().forEach(e=>{requestAnimationFrame(()=>{e.style.cssText=d()})})}return c.add(o),t&&s(),()=>c.delete(o)}),{get:(e,t)=>u[t]||i[t]}),[Symbol.toPrimitive]:d}),f},Object.defineProperty(e,"__esModule",{value:!0})}));
