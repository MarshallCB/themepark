!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Themepark=e()}(this,(function(){"use strict";let{assign:t}=Object;return class{constructor(e,s){t(this,{s:new Set,params:e,definitions:s}),this.update()}update(e={}){this.vars=this.definitions(t(this.params,e)),this.css=function(t){let e="";for(const s in t)e+=`--${s}:${t[s]};`;return e}(this.vars),this.s.forEach(t=>{t(this)})}subscribe(t,e=!0){return this.s.add(t),e&&this.update(),()=>this.s.delete(t)}style(t){let e="string"==typeof t?()=>document.querySelectorAll(t):()=>[t];this.subscribe(({css:t})=>e().forEach(e=>{requestAnimationFrame(()=>{e.style.cssText=t})}))}}}));
