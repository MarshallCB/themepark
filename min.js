!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Themepark={})}(this,(function(e){"use strict";let{defineProperties:t,keys:n,assign:o}=Object;e.themepark=function(e={},i=(e=>e)){let r=function(t){o(e,t),u()},f=i(e),c=new Set;function u(){f=i(e),c.forEach(e=>e(r.$))}let s=()=>{let e="";for(let t in f)e+=`--${t}:${f[t]};`;return e};return r.toString=s,t(r,n(e).concat(n(f)).reduce((t,i)=>o(t,{[i]:{get:()=>n(f).includes(i)?`var(--${i})`:e[i],set(t){n(e).includes(i)&&(e[i]=t,u())}}}),{})),o(r,{$:new Proxy((function(e,t=!0){let n=typeof e,o=e=>e;if("function"===n)o=e;else{let t="string"===n?()=>document.querySelectorAll(e):()=>[e];o=()=>t().forEach(e=>{requestAnimationFrame(()=>{e.style.cssText=s()})})}return c.add(o),t&&u(),()=>c.delete(o)}),{get:(t,n)=>f[n]||e[n]}),[Symbol.toPrimitive]:s}),r},Object.defineProperty(e,"__esModule",{value:!0})}));
