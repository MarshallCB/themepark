!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Themepark={})}(this,(function(e){"use strict";let{defineProperties:t,keys:n,assign:o}=Object;e.themepark=function(e={},r=(e=>e)){let i=function(t){return o(e,t),c(),i},f=r(e),u=new Set;function c(){f=r(e),u.forEach(e=>e(i.$))}let s=()=>{let e="";for(let t in f)e+=`--${t}:${f[t]};`;return e};return i.toString=s,t(i,n(e).concat(n(f)).reduce((t,r)=>o(t,{[r]:{get:()=>n(f).includes(r)?`var(--${r})`:e[r],set:t=>(n(e).includes(r)&&(e[r]=t,c()),!0)}}),{})),o(i,{$:new Proxy((function(e,t=!0){let n=typeof e,o=e=>e;if("function"===n)o=e;else{let t="string"===n?()=>document.querySelectorAll(e):()=>[e];o=()=>t().forEach(e=>{requestAnimationFrame(()=>{e.style.cssText=s()})})}return u.add(o),t&&c(),()=>u.delete(o)}),{get:(t,n)=>f[n]||e[n]}),[Symbol.toPrimitive]:s}),i},Object.defineProperty(e,"__esModule",{value:!0})}));
