!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Themepark={})}(this,(function(e){"use strict";let{defineProperties:t,keys:n,assign:o}=Object;e.themepark=function(e={},r=(e=>e)){let i=function(t){o(e,t),c()},f=r(e),u=new Set;function c(){f=r(e),u.forEach(e=>e(i.$))}let s=()=>{let e="";for(let t in f)e+=`--${t}:${f[t]};`;return e};return i.toString=s,t(i,o(n(e).reduce((t,n)=>o(t,{[n]:{get:()=>e[n],set(t){e[n]=t,c()}}}),{}),n(f).reduce((e,t)=>o(e,{[t]:{get:()=>`var(--${t})`}}),{}))),o(i,{$:new Proxy((function(e,t=!0){let n=typeof e,o=e=>e;if("function"===n)o=e;else{let t="string"===n?()=>document.querySelectorAll(e):()=>[e];o=e=>t().forEach(t=>{requestAnimationFrame(()=>{t.style.cssText=""+e})})}return u.add(o),t&&c(),()=>u.delete(o)}),{get:(t,n)=>f[n]||e[n]}),[Symbol.toPrimitive]:s}),i},Object.defineProperty(e,"__esModule",{value:!0})}));
